---
title: "Kafka Summit GoldenGate bridge run/walk - MQTT test"
date: 2019-09-23T10:55:23+01:00
image: "/images/2019/09/IMG_6348.jpg"
thumbnail: "/images/2019/09/IMG_6357.jpg"
draft: true
categories:
- Kafka Summit
- Running
---

''''

I'm planning to setup https://github.com/confluentinc/demo-scene/tree/race-tracker/mqtt-tracker[a demo] based on Simon Aubury's excellent https://github.com/saubury/race-mapper[race-mapper]. Each person shares their location from their phone during the run to an MQTT server which is then streamed to Kafka and KSQL for some funky viz in Kibana. 

image::/images/2019/09/racemapper01.png[]

⚠️️️️️️⚠️ **This involves sharing your personal location. You can do the run/walk without signing up for this app! It's a purely optional exercise if you want to join in with it. Don't take part unless you want to do that! No guarantees made around data security etc!** ⚠️⚠️ 

What data is shared? A data packet looks like this (https://owntracks.org/booklet/tech/json/#_typelocation[field definitions here]). Other than your location, no other identifiable information is in it—you are only identified by a GUID, unless you manually change your deviceID:

```
owntracks/race-write/D3DA7443-5C0F-418D-B897-F15065FE93B8

{
  "cog": 193,
  "batt": 45,
  "lon": 37.8288646,
  "acc": 16,
  "p": 100.14521789550781,
  "bs": 1,
  "vel": 0,
  "vac": 3,
  "lat": -122.47924,
  "conn": "w",
  "tst": 1569330852,
  "tid": "A1",
  "_type": "location",
  "alt": 104
}
`````

If you want to participate, here are the instructions: 

1. Download OwnTracks (https://apps.apple.com/gb/app/owntracks/id692424691[iOS] / https://play.google.com/store/apps/details?id=org.owntracks.android&hl=en_GB[Android])
2. Download https://www.dropbox.com/s/06mrdqdaznazw0c/owntracks.otrc?dl=1[this configuration file] on your phone and open it in OwnTracks
3. Once set up go to the Info screen (top-left icon) and you should see **Status** as `connected`. From the main Map screen set the mode to **Move**.
+
image::/images/2019/09/IMG_FC45959D6978-1.jpeg[]

**What about my data?** The data's uploaded to an MQTT server running on https://www.cloudmqtt.com[CloudMQTT]. The user writing the data has write-only access. I have a Kafka Connect worker pulling that data into a Kafka cluster, from which I'll show Kibana visualisations of the run as people do it. If you don't want to share your data, that is absolutely fine. This is just a fun experiment :) 

